(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(28)},20:function(e,t,n){},21:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(6),u=n.n(i),o=(n(20),n(21),n(5)),c=n(4),s=n(1),l=n(14),d="load",h="display",p="authors_select",f="move_selection_up",b="move_selection_down",x="authors_edit",m="authors_delete",L="authors_apply_edit",v="authors_cancel_edit";function E(){return function(e){e({type:d});var t=new XMLHttpRequest;t.open("GET","https://my-json-server.typicode.com/mate-academy/literary-blog/authors"),t.responseType="json",t.addEventListener("load",function(){var n=t.response;e(function(e){return{type:h,authorsList:e}}(n))}),t.send()}}function y(){return{type:v}}var I={requested:!1,authorsList:null,selectedIndex:-1,inEdit:!1};function k(e,t,n){var r=e.slice(),a=r.splice(n,1),i=Object(l.a)(a,1)[0];return r.splice(t,0,i),r}function w(e,t){var n=e.slice();return n.splice(t,1),n}n(26);var j=function(e){if(null===e.authorsList)return null;var t=e.authorsList.map(function(t,n){return n===e.selectedIndex?e.inEdit?a.a.createElement("li",{key:n},a.a.createElement("input",{defaultValue:t,onKeyDown:function(t){return e.inputHandler(t)}})):a.a.createElement("li",{className:"selected",key:n,onClick:function(){return e.authorClick(n)}},t):a.a.createElement("li",{key:n,onClick:function(){return e.authorClick(n)}},t)});return a.a.createElement("ul",{className:"container"},t)};var g=Object(c.b)(function(e){return{authorsList:e.authorsList,selectedIndex:e.selectedIndex,inEdit:e.inEdit}},function(e){return{authorClick:function(t){return e({type:p,index:t})},inputHandler:function(t){var n;"Enter"===t.key?e((n=t.target.value,{type:L,inputValue:n})):"Escape"===t.key&&e(y())}}})(j),O=(n(27),function(e){return a.a.createElement("div",{className:"panel"},a.a.createElement("button",{onClick:function(){return e.load()},disabled:e.loadDisabled},e.loadLabel),a.a.createElement("button",{onClick:function(){return e.up(e.index)},disabled:0===e.index||null===e.index||0===e.authorsLength},"Move Up"),a.a.createElement("button",{onClick:function(){return e.down(e.index)},disabled:e.index===e.authorsLength-1||null===e.index||0===e.authorsLength},"Move Down"),a.a.createElement("button",{onClick:function(){return e.edit(e.index)},disabled:e.editDisabled},"Edit"),a.a.createElement("button",{onClick:function(){return e.delete(e.index)},disabled:e.editDisabled},"Delete"))});var _=Object(c.b)(function(e){return{loadLabel:e.requested?"Loading...":"Load",loadDisabled:null!==e.authorsList||e.requested,index:e.selectedIndex,authorsLength:null===e.authorsList?0:e.authorsList.length,editDisabled:e.selectedIndex<0}},function(e){return{load:function(){return e(E())},up:function(t){return e({type:f})},down:function(t){return e({type:b})},edit:function(t){return e({type:x})},delete:function(t){return e({type:m})},cancel:e(y())}})(O),C=n(13),D=Object(o.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(s.a)({},e,{requested:!0});case h:return Object(s.a)({},e,{authorsList:t.authorsList,requested:!1});case p:return Object(s.a)({},e,{selectedIndex:+t.index});case f:return Object(s.a)({},e,{authorsList:k(e.authorsList,e.selectedIndex-1,e.selectedIndex),selectedIndex:e.selectedIndex-1});case b:return Object(s.a)({},e,{authorsList:k(e.authorsList,e.selectedIndex+1,e.selectedIndex),selectedIndex:e.selectedIndex+1});case x:return Object(s.a)({},e,{inEdit:!0});case L:var n=e.authorsList;return""===t.inputValue?n.splice(e.selectedIndex,1):n[e.selectedIndex]=t.inputValue,Object(s.a)({},e,{authorsList:n,inEdit:!1,selectedIndex:-1});case v:return Object(s.a)({},e,{inEdit:!1});case m:return Object(s.a)({},e,{authorsList:w(e.authorsList,e.selectedIndex),selectedIndex:e.selectedIndex-1});default:return e}},Object(o.a)(C.a));var q=function(){return a.a.createElement(c.a,{store:D},a.a.createElement(_,null),a.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,1,2]]]);
//# sourceMappingURL=main.aef01da6.chunk.js.map